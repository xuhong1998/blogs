---
title: 异步
date: 2019-11-02 16:19:11
tags: 
- 面试
---


## 什么是单线程，和异步有什么关系
+ 单线程-同时间只能做一件事
+ 原因-避免 DOM 渲染冲突 
+ 解决方案-异步

## 什么是event-loop
+ 事件轮询，js实现异步的具体解决方案
+ 同步代码，直接执行
+ 异步函数先放在异步队列中
+ 待同步函数执行完毕，轮询执行异步队列函数

#### 实例分析
```javaScript
//ajax请求完成时放进异步队列
$ajax({
    url:'****',
    success: function(result) {
        console.log('a')    
    }
})
//100mm后放入异步队列
setTimeout(function() {
    console.log('b')
}, 100)
//立即放入异步队列
setTimeout(function() {
    console.log('c')
})
console.log('d')
```
## 是否用过JQuery的Deferred
```javaScript
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script>
    function waitHandle() {
      var dtd = $.Deferred
      var wait = function(dtd) {
        var task = function() {
          console.log('执行完成')
          //成功
          dtd.resolve()
          //失败
          //dtd.reject()
        }
        setTimeout(task,2000)
        return dtd
      }
      return wait(dtd)
    }
    var w = waitHandle();
    w.then(function(){
      console.log('ok 1')
    },function(){
      console.log('err 1')
    }).then(function() {
      console.log('ok 2')
    },function(){
      console.log('err 2')
    })
  </script>
```
## Promise 的基本使用和原理
## async/await(优点)
## 当前JS解决异步的方案
 